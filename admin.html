<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Admin Dashboard – SAB EXTERIOR & INTERIOR NEPAL</title>

  <!-- Fonts & icons -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

  <!-- AOS -->
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.1/dist/aos.css"/>

  <!-- Main CSS -->
  <link rel="stylesheet" href="css/style.css">

  <style>
    /* ===== Admin Page Styles ===== */
    .admin-form { max-width: 400px; margin:auto; }
    .admin-input { width: 100%; padding:12px 40px 12px 12px; margin-bottom:15px; font-size:15px; box-sizing:border-box; }
    .password-wrapper { position: relative; }
    .toggle-password { position:absolute; right:12px; top:50%; transform:translateY(-50%); cursor:pointer; color:#666; }
    .stat-box { padding:20px; border:1px solid #ddd; min-width:150px; text-align:center; margin-bottom:20px; flex:1; }
    #projectsList div { border:1px solid #ccc; padding:10px; margin-bottom:10px; }
    textarea.admin-input { height:80px; resize:none; }
    @media(max-width:600px){ .stat-box { min-width:100%; } }
  </style>
</head>

<body>

<!-- Header -->
<header class="site-nav-wrap">
  <div class="container header-row">
    <div class="brand">
      <a href="index.html" class="brand-link">
        <img src="Images/logo%20bg.png" alt="SAB Logo" class="logo-img">
      </a>
    </div>

    <nav class="main-nav" id="main-nav">
      <a href="index.html" class="nav-link">Home</a>
      <a href="admin.html" class="nav-link active">Admin</a>
      <a href="contact.html" class="nav-link">Contact</a>
    </nav>

    <button id="nav-toggle" class="nav-toggle"><i class="fa fa-bars"></i></button>
  </div>
</header>

<!-- Login Section -->
<section class="section section-white" data-aos="fade-up" id="login-section">
  <div class="container">
    <h2 class="section-heading">Admin Login</h2>
    <p>Please login to access the dashboard.</p>

    <form id="loginForm" class="admin-form">
      <input type="email" id="email" class="admin-input" placeholder="Email" required />

      <div class="password-wrapper">
        <input type="password" id="password" class="admin-input" placeholder="Password" required />
        <i class="fa fa-eye toggle-password" id="togglePassword"></i>
      </div>

      <button type="submit" class="btn btn-primary" style="width:100%;">Login</button>
    </form>

    <p id="loginError" style="color:red; margin-top:10px;"></p>
  </div>
</section>

<!-- Dashboard -->
<section class="section section-white" id="dashboard-section" style="display:none;">
  <div class="container">
    <h2 class="section-heading">Admin Dashboard</h2>

    <button class="btn btn-secondary" id="logoutBtn" style="margin-bottom:20px;">Logout</button>

    <!-- Analytics -->
    <div style="display:flex; gap:20px; flex-wrap:wrap; margin-bottom:30px;">
      <div class="stat-box">Messages: <strong id="msgCount">0</strong></div>
      <div class="stat-box">Projects: <strong id="projectCount">0</strong></div>
      <div class="stat-box">Admins: <strong id="adminCount">0</strong></div>
    </div>

    <hr style="margin:20px 0;" />

    <!-- Project Upload -->
    <h3>Add New Project</h3>
    <form id="projectForm" class="admin-form">
      <input class="admin-input" id="title" placeholder="Project Title" required />
      <input class="admin-input" id="image" placeholder="Image URL" required />
      <textarea class="admin-input" id="description" placeholder="Description" required></textarea>

      <button class="btn btn-primary" type="submit" style="width:100%;">Upload Project</button>
    </form>

    <p id="projectMsg" style="margin-top:10px;"></p>

    <!-- Projects -->
    <h3 style="margin-top:40px;">All Projects</h3>
    <div id="projectsList" style="margin-top:15px;"></div>
  </div>
</section>

<!-- Footer -->
<footer class="site-footer">
  <div class="container footer-inner">
    <div class="footer-left">© 2026 SAB Exterior & Interior Nepal</div>
    <div class="footer-right">
      <a href="#"><i class="fab fa-facebook-f"></i></a>
      <a href="#"><i class="fab fa-instagram"></i></a>
      <a href="#"><i class="fab fa-tiktok"></i></a>
    </div>
  </div>
</footer>

<!-- Scripts -->
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script src="js/config.js"></script>
<script src="js/admin.js"></script>
<script src="js/script.js"></script>
<script>
  AOS.init();

  // Toggle nav menu
  const navToggle = document.getElementById("nav-toggle");
  const mainNav = document.getElementById("main-nav");
  if(navToggle && mainNav){
    navToggle.addEventListener("click",()=>mainNav.classList.toggle("open"));
  }

  // Logout
  const logoutBtn = document.getElementById("logoutBtn");
  if(logoutBtn){
    logoutBtn.addEventListener("click",()=>{ 
      localStorage.removeItem("token");
      document.getElementById("login-section").style.display = "block";
      document.getElementById("dashboard-section").style.display = "none";
    });
  }
</script>
</body>
</html>
